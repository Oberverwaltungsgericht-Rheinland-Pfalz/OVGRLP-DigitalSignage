/*! DigitalSignage.WebUi2.Displays - v2.1.1 - 27.11.2015 */
!function(){"use strict";function a(a,b,c,d){c.setBaseUrl(d.apiUrl),a.state("index",{url:"/",templateUrl:"app/index.html"}).state("display",{url:"/{id}",templateUrl:"app/display.html",controller:"DisplayController",controllerAs:"dc"}),b.otherwise("/")}angular.module("app",["app.core"]).config(a),a.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider","appConfig"]}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngMaterial","ui.router","restangular"])}(),function(){"use strict";function a(){return function(a,b){return a?a.replace(/([^\W_]+[^\s-]*) */g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}):""}}angular.module("app.core").filter("capitalize",a)}(),function(){"use strict";function a(a,b){function c(a,b){console.log(b[0]),console.log(b[0].prop("offsetHeight"))}var d={restrict:"E",scope:{step:"@",speed:"@",stepDuration:"@",watchData:"="},link:c};return d}angular.module("app.core").directive("dsScrollContent",a),a.$inject=["$interval","$document"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){d(function(){i.dateTime=new Date},6e4),h(),d(function(){h()},6e4)}function h(){j.one(c.id).get().then(function(c){i.display=c,i.layout=f.templatesUrl+"/"+c.template+"/main.html",i.notes=b.trustAsHtml(i.display.notes),a.$parent.loadStyles(i.display.styles)})}var i=this,j=e.service("settings/displays");i.display=[],i.dateTime=new Date,i.notes=null,g()}angular.module("app").controller("DisplayController",a),a.$inject=["$scope","$sce","$stateParams","$interval","Restangular","appConfig"]}(),function(){"use strict";function a(a,b){function c(){}var d=this;d.styles=[],c(),a.loadStyles=function(a){d.styles=[],d.styles.push("css/default.css"),a.split(",").forEach(function(a){d.styles.push(b.stylesUrl+"/"+a.trim()+".css")})}}angular.module("app").controller("MainController",a),a.$inject=["$scope","appConfig"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){h(),d(function(){h()},j.updateInterval)}function h(){k.getList().then(function(a){var b=moment();j.termine=e("orderBy")(a,"+uhrzeitAktuell"),j.termine.forEach(function(a){var c=moment(a.datum+" "+a.uhrzeitAktuell,"DD.MM.YYYY HH:mm");c.isValid()?a.beginnt=c.diff(b,"minutes"):a.beginnt=-1}),i(j.termine)})}function i(a){var b=_.filter(a,function(a){return"LÃ¤uft"==a.status?!0:void 0});b.length<1&&(b=_.filter(a,function(a){return"Abgeschlossen"!=a.status&&"Aufgehoben"!=a.status?!0:void 0})),b.length>=1?j.detailTermin=b[0]:j.detailTermin=null}var j=this,k=f.service("termine",f.one("settings/displays",b.id));j.updateInterval=15e3,j.termine=[],j.detailTermin=null,g()}angular.module("app").controller("TermineController",a),a.$inject=["$scope","$stateParams","$timeout","$interval","$filter","Restangular"]}();